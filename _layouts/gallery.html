<!DOCTYPE html>
<html lang="en">
  <head>
    {% include head.html %}
  </head>
  <body>
    <div class="container">
      <div class="menu">{% include menu.html %}</div>
      <div class="post">
        <article>
          <header>
            <h1>{{ page.title }}</h1>
            <footer class="text-right">{{ page.date | date_to_string }}</footer>
          </header>
          <div class="content">
            {{ content }}
            {% if page.images %}
            <div class="gallery">
              {% for image in page.images %}
              <div class="gallery-item">
                <img class="gallery-image" src="{{ image.url }}" alt="{{ image.alt }}" title="{{ image.caption }}">
                <div class="caption">{{ image.caption }}</div>
              </div>
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </article>
      </div>
      {% include footer.html %}
    </div>

    <div id="myModal" class="modal">
      <span class="close">&times;</span>
      <img class="modal-content" id="modalImg">
      <div id="caption" class="modal-caption"></div>
    </div>

    <script>
      var modal = document.getElementById('myModal');
      var modalImg = document.getElementById("modalImg");
      var captionText = document.getElementById("caption");
      var galleryImages = document.getElementsByClassName("gallery-image");

      for (var i = 0; i < galleryImages.length; i++) {
        galleryImages[i].onclick = function(){
          modal.style.display = "block";
          modalImg.src = this.src;
          captionText.innerHTML = this.title;
        }
      }

      var span = document.getElementsByClassName("close")[0];

      span.onclick = function() { 
        modal.style.display = "none";
      }
    </script>

  </body>
</html>